(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{236:function(e,t,a){e.exports=a(308)},245:function(e,t,a){},308:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),o=a.n(i),c=a(19),l=a(24);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(62),u=a(17),m={user:"",activePage:"",searchQuery:"",activePatient:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENT_USER":return function(e,t){return Object(u.a)({},e,t)}(e,t.payload);case"SET_ACTIVE_PAGE":return function(e,t){return Object(u.a)({},e,{activePage:t})}(e,t.payload);case"SET_ACTIVE_PATIENT":return function(e,t){return Object(u.a)({},e,{activePatient:t})}(e,t.payload);case"SET_SEARCH_QUERY":return function(e,t){return Object(u.a)({},e,{searchQuery:t})}(e,t.payload);default:return e}},p={selectedDish:null,ingredients:null},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_DISH":return function(e,t){return Object(u.a)({},e,t)}(e,t.payload);case"SET_INGREDIENTS":return function(e,t){return Object(u.a)({},e,{ingredients:t})}(e,t.payload);default:return e}},f={type:""},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENQUEUE_SNACKBAR":return function(e,t){return Object(u.a)({},e,t)}(e,t.payload);default:return e}},b=Object(s.b)({userReducer:d,dishesReducer:h,notifierReducer:g}),v=Object(s.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),E=Object(s.d)(b,v),y=(a(245),a(11)),x=a(8),j=a(13),O=a(12),N=a(14),w=a(165),C=a(166),S=(a(248),a(92)),k=a(28),D=a(2),I=a(5),P=a(404),z=a(402),A=a(403),L=a(396),F=a(386),R=a(46),T=a(315),U=a(189),W=a.n(U),B=a(190),M=a.n(B),_=a(191),H=a.n(_),V=a(317),q=a(400),J=a(401),Q=a(110),G=a.n(Q),K=a(107),X=a.n(K),Y=a(187),$=a.n(Y),Z=a(81),ee=a.n(Z),te=a(188),ae=a.n(te),ne=a(67),re=function(e){return{type:"SET_CURRENT_DISH",payload:e}},ie=function(e){return{type:"SET_ACTIVE_PAGE",payload:e}},oe=function(e){return{type:"SET_SEARCH_QUERY",payload:e}},ce=function(e){return{type:"ENQUEUE_SNACKBAR",payload:e}},le=a(48),se=a.n(le),ue=a(169),me="https://reactproject-de081.firebaseio.com",de="".concat(me),pe="".concat(me,"/comments"),he="".concat(me,"/dietetic"),fe="".concat(de,"/dishes.json"),ge="".concat(de,"/ingredients.json"),be=function(e){return"".concat(de,"/dishes/").concat(e,".json")},ve=function(e){return"".concat(pe,"/").concat(e,".json")},Ee=function(e){return"".concat(he,"/").concat(e,".json")},ye=ue.initializeApp({apiKey:"AIzaSyCJ4P-4Ovyg1d5hfVy9FvPaDzA42jTHom0",authDomain:"reactproject-de081.firebaseapp.com",databaseURL:"https://reactproject-de081.firebaseio.com",projectId:"reactproject-de081",storageBucket:"reactproject-de081.appspot.com",messagingSenderId:"673278986165"}),xe=function(){return se.a.get(fe)},je=function(){return se.a.get(ge)},Oe=function(e){var t=ve(e);return se.a.get(t)},Ne=function(e,t){var a=ve(e);return se.a.post(a,t)},we=function(e){return se.a.post(fe,e)},Ce=function(e,t){var a=be(e);return se.a.put(a,t)},Se=function(e){var t=be(e);return se.a.delete(t)},ke=a(376),De=a(377),Ie=a(378),Pe=a(379),ze=a(316),Ae=a(112),Le=a(104),Fe=a.n(Le),Re=a(175),Te=a.n(Re),Ue=a(105),We=a.n(Ue),Be=a(75),Me=a.n(Be),_e=a(174),He=a.n(_e),Ve=a(380),qe=a(409),Je=a(375),Qe=a(374),Ge=a(368),Ke=a(373),Xe=a(371),Ye=a(372),$e=a(370);function Ze(e){var t=e.open,a=e.dish,n=e.handleClick,i=e.handleRemove,o="",c="";switch(e.type){case"delete":o="Jeste\u015b pewien, \u017ce chcesz usun\u0105\u0107 "+a+"?",c="Proces ten nie mo\u017ce zosta\u0107 odwr\xf3cony. Je\u017celi nadal chcesz usun\u0105\u0107 to danie wci\u015bnij TAK";break;default:return null}return r.a.createElement("div",null,r.a.createElement(Ge.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement($e.a,{id:"alert-dialog-title"},o),r.a.createElement(Xe.a,null,r.a.createElement(Ye.a,{id:"alert-dialog-description"},c)),r.a.createElement(Ke.a,null,r.a.createElement(Qe.a,{onClick:n,color:"primary"},"Anuluj"),r.a.createElement(Qe.a,{onClick:i,color:"primary",autoFocus:!0},"Tak"))))}var et=a(113),tt=a(114);function at(){var e=Object(et.a)(["\n  color: #fff;\n  letter-spacing: 1px;\n"]);return at=function(){return e},e}function nt(){var e=Object(et.a)(["\n  position: absolute;\n  font-size: 9px;\n  top: 5px;\n  right: -30px;\n  animation: 2s "," infinite;\n  background: #0066cc;\n  padding: 0.2rem 2rem 0.2rem 2rem;\n  z-index: 999;\n"]);return nt=function(){return e},e}function rt(){var e=Object(et.a)(["\n  0% {\n    transform: rotate(45deg);\n    box-shadow: 0 1px 3px #000;\n    opacity: 1;\n  }\n  50% {\n    transform: rotate(45deg);\n    box-shadow: 1px 2px 8px #000;\n    opacity: .5;\n  }\n  100% {\n    transform: rotate(45deg);\n    box-shadow: 0 1px 3px #000;\n    opacity: 1\n  }\n"]);return rt=function(){return e},e}var it=Object(tt.b)(rt()),ot=tt.a.div(nt(),it),ct=tt.a.div(at());function lt(e){return function(e){return new Date(e).toDateString()===(new Date).toDateString()?r.a.createElement(ot,null,r.a.createElement(ct,null,"NEW")):null}(e.date)}var st=a(103),ut=a.n(st),mt=a(320),dt=Object(mt.a)({iconContainer:{display:"flex",alignItems:"center",transition:"all .5s","&:hover":{cursor:"pointer",color:"red"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.iconContainer},r.a.createElement(ut.a,null))}),pt=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(j.a)(this,Object(O.a)(t).call(this))).handleExpandClick=function(){a.setState(function(e){return{expanded:!e.expanded}})},a.onChangeCheckbox=function(){a.setState({fav:!a.state.fav}),a.props.handleHeart(a.props.dish,!a.state.fav)},a.handleClickOpen=function(){a.setState(function(e){return{open:!e.open}})},a.setCurrentDish=function(){a.props.setCurrentDish(a.props.dish)},a.handleBeforeRemove=function(){a.setState({open:!a.state.open}),a.props.handleDelete(a.props.dish.id)},a.state={expanded:!1,fav:e.dish.data.favourite,open:!1},a}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({fav:e.dish.data.favourite})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.dish,n=e.showDeleteBtn,i=Object(u.a)({},a.data),o=i.ingredients.map(function(e,a){return r.a.createElement("div",{className:t.ingredientContainer,key:a},r.a.createElement(Fe.a,{className:t.icon}),r.a.createElement(R.a,{paragraph:!0,className:t.ingredient},e))});return r.a.createElement(Je.a,{className:t.card},r.a.createElement(c.b,{to:"/details/"+a.id,className:t.link,onClick:this.setCurrentDish},r.a.createElement(ke.a,{title:i.title,subheader:i.publishDate?"Opublikowano: "+i.publishDate.slice(0,10):"",className:t.header,classes:{title:t.title,subheader:t.subheader}})),r.a.createElement(lt,{date:i.publishDate}),r.a.createElement(De.a,{className:t.media,image:i.imageUrl?i.imageUrl:"https://thumbs.dreamstime.com/z/no-fast-food-prohibition-sign-vector-label-34566705.jpg",title:i.imageUrl?i.title:"Default image"}),r.a.createElement(Ie.a,{className:t.content},r.a.createElement(R.a,{variant:"body2",color:"textSecondary",component:"p",className:t.contentText},i.shortDescription)),r.a.createElement(Pe.a,{disableSpacing:!0,className:t.actions},r.a.createElement(Ve.a,{control:r.a.createElement(qe.a,{icon:r.a.createElement(We.a,null),checkedIcon:r.a.createElement(ee.a,null),checked:this.state.fav,onChange:this.onChangeCheckbox}),className:t.checkbox}),n&&r.a.createElement("div",{onClick:this.handleClickOpen},r.a.createElement(dt,null)),r.a.createElement(T.a,{className:Object(D.a)(t.expand,Object(k.a)({},t.expandOpen,t.expanded)),onClick:this.handleExpandClick,"aria-expanded":t.expanded,"aria-label":"Show more"},this.state.expanded?r.a.createElement(He.a,null):r.a.createElement(Me.a,null))),r.a.createElement(ze.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},r.a.createElement(Ie.a,null,r.a.createElement("div",{className:t.headerIngredientsContainer},r.a.createElement(Te.a,{className:t.foodIcon}),r.a.createElement(R.a,{paragraph:!0,className:t.headerIngredients},"SK\u0141ADNIKI")),o)),r.a.createElement(Ze,{handleClick:this.handleClickOpen,open:this.state.open,dish:a.data.title,handleRemove:this.handleBeforeRemove,type:"delete"}))}}]),t}(n.Component),ht=Object(I.a)(function(e){return{card:{position:"relative",width:240,margin:"10px",transition:"all .3s","&:hover":{cursor:"pointer",transform:"scale(0.98)"}},media:{height:140},expand:{transform:"rotate(0deg)",marginLeft:"auto",height:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Ae.a[500]},header:{minHeight:"80px",alignItems:"flex-start",backgroundColor:"#f9f9f9",transition:"all .5s","&:hover":{color:"#3f51b5"}},title:{fontSize:".8rem",minHeight:"2rem"},subheader:{fontSize:".6rem"},content:{minHeight:"120px"},contentText:{fontSize:".6rem"},ingredientContainer:{display:"flex",alignItems:"center",marginBottom:"10px"},ingredient:{marginBottom:0,marginLeft:"10px",fontSize:".6rem"},icon:{color:"green",fontSize:".6rem"},foodIcon:{width:"1rem",height:"1rem"},headerIngredientsContainer:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},headerIngredients:{marginBottom:0,marginLeft:"10px",fontSize:".7rem"},link:{color:"#000",textDecoration:"none"}}})(pt),ft=a(381),gt=Object(I.a)({spinner:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.spinner},r.a.createElement(ft.a,null))}),bt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(i)))).handleChangeFavourite=function(e,t){var n=Object(u.a)({},e.data);n.favourite=t,Ce(e.id,n).then(function(){t?a.props.enqueueSnackbar({type:"addedToFav"}):a.props.enqueueSnackbar({type:"removedFromFav"}),a.props.onListUpdate()}).catch(function(){a.props.enqueueSnackbar({type:"error"})})},a.handleDelete=function(e){Se(e).then(function(){a.props.enqueueSnackbar({type:"deleted"}),a.props.onListUpdate()}).catch(function(){a.props.enqueueSnackbar({type:"error"})})},a.setDish=function(e){a.props.setSelectedDish({selectedDish:e})},a.renderList=function(){var e=a.props,t=e.items,n=e.classes,i=e.loading,o=e.user;return i?r.a.createElement(gt,null):r.a.createElement("div",{className:n.container},t&&t.length?t.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(ht,{dish:e,handleHeart:a.handleChangeFavourite,showDeleteBtn:!!e.data.user&&o.uid===e.data.user.uid,handleDelete:a.handleDelete,setCurrentDish:a.setDish}))}):r.a.createElement("h1",null,"No dishes yet."))},a}return Object(N.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return this.renderList()}}]),t}(n.Component),vt=Object(l.b)(function(e){return{user:e.userReducer.user}},function(e){return{setSelectedDish:function(t){return e(re(t))},enqueueSnackbar:function(t){return e(ce(t))}}})(Object(I.a)({container:{display:"flex",flexDirection:"row",flexWrap:"wrap",margin:"3rem auto",width:"85%"},"@media only screen and (max-width: 934px)":{container:{justifyContent:"center"}}})(bt)),Et=a(56);function yt(e){return Object.entries(e).reduce(function(e,t){return[].concat(Object(Et.a)(e),[{id:t[0],data:Object(u.a)({},t[1])}])},[])}var xt=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).getList=function(){xe().then(function(t){e.setState({dishesList:t.data})}).catch(function(e){console.log(e)})},e.getIngredients=function(){je().then(function(t){e.setState({ingredients:t.data,loading:!1}),e.props.setIngredients(t.data)}).catch(function(e){console.log(e)})},e.onUpdateList=function(){e.getList()},e.state={dishesList:[],loading:!0},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.setActivePage("Lista da\u0144"),this.getIngredients(),this.onUpdateList()}},{key:"render",value:function(){var e=this.state,t=e.dishesList,a=e.loading,n=yt(t);return r.a.createElement(vt,{items:n,loading:a,onListUpdate:this.onUpdateList})}}]),t}(n.Component),jt=Object(l.b)(null,function(e){return{setActivePage:function(t){return e(ie(t))},setIngredients:function(t){return e({type:"SET_INGREDIENTS",payload:t})}}})(xt),Ot=(a(292),a(411)),Nt=a(82),wt=a.n(Nt),Ct=a(34),St=a(129),kt=a(176),Dt=a.n(kt),It=a(203),Pt=a(123),zt=a(68),At=a(387),Lt=a(417);function Ft(e){var t=e.classes,a=e.items,n=r.a.useState(""),i=Object(Ct.a)(n,2),o=i[0],c=i[1],l=r.a.useState([]),s=Object(Ct.a)(l,2),m=s[0],d=s[1],p=a.map(function(e,t){return{value:t,label:e.name}});function h(e){m.length&&!o.length&&"Backspace"===e.key&&d(m.slice(0,m.length-1))}var f=function(t){return function(){var a=Object(Et.a)(m);a.splice(a.indexOf(t),1),d(a),e.changeValue(a)}};return r.a.createElement(It.a,{id:"downshift-multiple",inputValue:o,onChange:function(t){var a=Object(Et.a)(m);-1===a.indexOf(t)&&(a=[].concat(Object(Et.a)(a),[t])),c(""),d(a),e.changeValue(a)},selectedItem:m},function(e){var a=e.getInputProps,n=e.getItemProps,i=e.getLabelProps,o=e.isOpen,l=e.inputValue,s=e.selectedItem,d=e.highlightedIndex,g=a({onKeyDown:h,placeholder:"Wybierz sk\u0142adniki"}),b=g.onBlur,v=g.onChange,E=g.onFocus,y=Object(St.a)(g,["onBlur","onChange","onFocus"]);return r.a.createElement("div",{className:t.container},function(e){var t=e.InputProps,a=e.classes,n=e.ref,i=Object(St.a)(e,["InputProps","classes","ref"]);return r.a.createElement(Ot.a,Object.assign({InputProps:Object(u.a)({inputRef:n,classes:{root:a.inputRoot,input:a.inputInput}},t)},i))}({fullWidth:!0,classes:t,label:"Sk\u0142adniki",InputLabelProps:i(),InputProps:{startAdornment:m.map(function(e){return r.a.createElement(Lt.a,{key:e,tabIndex:-1,label:e,className:t.chip,onDelete:f(e)})}),onBlur:b,onChange:function(e){!function(e){c(e.target.value)}(e),v(e)},onFocus:E},inputProps:y}),o?r.a.createElement(zt.a,{className:t.paper,square:!0},function(e,t){var a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).showEmpty,n=void 0!==a&&a,r=Dt()(e.trim()).toLowerCase(),i=r.length;return 0!==i||n?t.filter(function(e){return e.label.slice(0,i).toLowerCase()===r}):[]}(l,p).map(function(e,t){return function(e){var t=e.suggestion,a=e.index,n=e.itemProps,i=e.highlightedIndex===a,o=(e.selectedItem||"").indexOf(t.label)>-1;return r.a.createElement(At.a,Object.assign({},n,{key:t.label,selected:i,component:"div",style:{fontWeight:o?500:400}}),t.label)}({suggestion:e,index:t,itemProps:n({item:e.label}),highlightedIndex:d,selectedItem:s})})):null)})}var Rt=Object(Pt.a)(function(e){return{root:{flexGrow:1,marginTop:"1rem",width:"100%"},container:{flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},chip:{margin:e.spacing(.5,.25)},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1},divider:{height:e.spacing(2)}}});function Tt(e){var t=Rt();return r.a.createElement("div",{className:t.root},r.a.createElement(Ft,{classes:t,items:e.items,changeValue:e.onChangeIngredients}))}var Ut=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).clearFields=function(){e.setState({name:"",shortDescription:"",ingredients:[],favourite:!1,isValid:!1,validName:!1,validShort:!1,validFull:!1,file:null})},e.handleSubmit=function(t){t.preventDefault();var a={title:e.state.name,shortDescription:e.state.shortDescription,ingredients:e.state.ingredients,favourite:e.state.favourite};e.props.handleAddNew(a,e.state.file),e.clearFields()},e.handleImageChange=function(t){if(t.target.files[0]){var a=new FileReader;a.readAsDataURL(t.target.files[0]),a.onload=function(t){e.image.current.src=t.currentTarget.result}}},e.handleChange=function(t){t.persist(),e.setState(Object(u.a)({},e.state,Object(k.a)({},t.target.id,t.target.value)),function(){return e.validateForm(t.target.id,t.target.value)})},e.onChangeCheckbox=function(){e.setState(function(e){return Object(u.a)({},e,{favourite:!e.favourite})})},e.validateForm=function(t,a){switch(t){case"name":e.setState({validName:!!(a.length&&a.length<=50)},function(){return e.checkIfValid()});break;case"shortDescription":e.setState({validShort:!!(a.length&&a.length<=250)},function(){return e.checkIfValid()});break;case"ingredients":e.setState({validFull:a.length>0},function(){return e.checkIfValid()});break;default:return}},e.checkIfValid=function(){var t=e.state,a=t.validName,n=t.validShort,r=t.validFull;e.setState({isValid:!!(a&&n&&r)})},e.handleFileChange=function(t){e.setState({file:t.target.files[0]})},e.setChangeIngredients=function(t){e.setState({ingredients:t},function(){return e.validateForm("ingredients",t)})},e.state={name:"",shortDescription:"",ingredients:[],favourite:!1,isValidForm:!1,validName:!1,validShort:!1,validFull:!1,file:null},e.inputFile=r.a.createRef(),e.image=r.a.createRef(),e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.items&&this.inputFile.current.addEventListener("change",function(t){return e.handleImageChange(t)},!1)}},{key:"componentWillUnmount",value:function(){var e=this;this.props.items&&this.inputFile.current.removeEventListener("change",function(t){return e.handleImageChange(t)},!1)}},{key:"render",value:function(){var e=this.props.classes,t=this.state.file;return this.props.items?r.a.createElement("div",{className:e.container},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.handleSubmit,className:e.form},r.a.createElement(Ot.a,{id:"name",label:"Nazwa dania",placeholder:"Nazwa nie powinna by\u0107 d\u0142u\u017csza ni\u017c 50 znak\xf3w",className:e.textField,variant:"filled",fullWidth:!0,value:this.state.name,onChange:this.handleChange}),r.a.createElement(Ot.a,{id:"shortDescription",label:"Kr\xf3tki opis dania",placeholder:"Maksymalnie 250 znak\xf3w",className:e.textField,variant:"filled",fullWidth:!0,value:this.state.shortDescription,onChange:this.handleChange}),r.a.createElement(Tt,{className:e.textField,items:this.props.items,onChangeIngredients:this.setChangeIngredients,id:"ingredients"}),r.a.createElement(Ve.a,{control:r.a.createElement(qe.a,{icon:r.a.createElement(We.a,null),checkedIcon:r.a.createElement(ee.a,null),checked:this.state.favourite,onChange:this.onChangeCheckbox}),label:"Dodaj do ulubionych",className:e.checkbox}),t&&r.a.createElement("img",{ref:this.image,alt:"miniature"}),r.a.createElement("input",{accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file",onChange:this.handleFileChange,ref:this.inputFile}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(Qe.a,{variant:"contained",component:"span",className:e.button},t?"".concat(t.name):"Dodaj zdj\u0119cie")),r.a.createElement(Qe.a,{type:"submit",variant:"contained",color:"primary",className:e.button,disabled:!this.state.isValid},"Dodaj danie",r.a.createElement(wt.a,{className:e.rightIcon},"send")))):r.a.createElement(ne.a,{to:"/list"})}}]),t}(n.Component),Wt=Object(I.a)(function(e){return{container:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:"1rem"},button:{margin:e.spacing(1),marginTop:"2rem",width:"auto"},rightIcon:{marginLeft:"1rem",fontSize:"1.2rem"},form:{display:"flex",flexDirection:"column",marginTop:"5rem",alignItems:"center",width:"80%"},checkbox:{marginTop:"1rem"},input:{display:"none"}}})(Ut),Bt=ye.storage().ref(),Mt=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).handleAddNewDish=function(t,a){if(a){var n=Bt.child(t.title);n.put(a).then(function(a){n.getDownloadURL().then(function(a){var n=Object(u.a)({},t,{imageUrl:a});e.postData(n)})})}else e.postData(t)},e.postData=function(t){var a=e.props.user,n={displayName:a.displayName,uid:a.uid,email:a.email};we(Object(u.a)({},t,{publishDate:new Date,user:n})).then(function(){e.props.enqueueSnackbar({type:"addedNewDish"}),e.setState({success:!0})}).catch(function(){e.props.enqueueSnackbar({type:"error"})})},e.state={success:!1},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.setActivePage("Dodaj nowe danie")}},{key:"render",value:function(){return this.state.success?r.a.createElement(ne.a,{to:"/mydishes"}):r.a.createElement(Wt,{handleAddNew:this.handleAddNewDish,items:this.props.ingredients})}}]),t}(n.Component),_t=Object(l.b)(function(e){return{user:e.userReducer.user,ingredients:e.dishesReducer.ingredients}},function(e){return{enqueueSnackbar:function(t){return e(ce(t))},setActivePage:function(t){return e(ie(t))}}})(Mt),Ht=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).getList=function(){xe().then(function(t){e.setState({dishesList:t.data,loading:!1})}).catch(function(e){console.log(e)})},e.onUpdateList=function(){e.getList()},e.state={dishesList:[],loading:!0},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentWillMount",value:function(){this.props.setActivePage("Ulubione"),this.onUpdateList()}},{key:"render",value:function(){var e=this.state,t=e.dishesList,a=e.loading,n=function(e){return Object.entries(e).filter(function(e){return e[1].favourite}).reduce(function(e,t){return[].concat(Object(Et.a)(e),[{id:t[0],data:Object(u.a)({},t[1])}])},[])}(t);return r.a.createElement(vt,{items:n,onListUpdate:this.onUpdateList,loading:a})}}]),t}(n.Component),Vt=Object(l.b)(null,function(e){return{setActivePage:function(t){return e(ie(t))}}})(Ht),qt=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).getList=function(){xe().then(function(t){e.setState({dishesList:t.data,loading:!1})}).catch(function(e){console.log(e)})},e.onUpdateList=function(){e.getList()},e.state={dishesList:[],loading:!0},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.setActivePage("Moje dania"),this.getList()}},{key:"render",value:function(){var e=this.state,t=e.dishesList,a=e.loading,n=function(e,t){return Object.entries(e).reduce(function(e,t){return[].concat(Object(Et.a)(e),[{id:t[0],data:Object(u.a)({},t[1])}])},[]).filter(function(e){return e.data.user.uid===t.uid})}(t,this.props.user);return r.a.createElement(vt,{items:n,loading:a,onListUpdate:this.onUpdateList})}}]),t}(n.Component),Jt=Object(l.b)(function(e){return{user:e.userReducer.user}},function(e){return{setActivePage:function(t){return e(ie(t))}}})(qt),Qt=a(408),Gt=a(388),Kt=a(87),Xt=a.n(Kt),Yt=a(177),$t=a.n(Yt),Zt=Object(Pt.a)({root:{flexGrow:1,width:"100%"},"@media only screen and (max-width: 600px)":{root:{marginTop:"-.5rem"}}});function ea(){var e=Zt(),t=r.a.useState(0),a=Object(Ct.a)(t,2),n=a[0],i=a[1];return r.a.createElement(zt.a,{square:!0,className:e.root},r.a.createElement(Qt.a,{value:n,onChange:function(e,t){i(t)},variant:"fullWidth",indicatorColor:"secondary",textColor:"secondary","aria-label":"Icon label tabs example"},r.a.createElement(Gt.a,{icon:r.a.createElement(X.a,null),label:"PACJENCI",component:c.b,to:"/dietetic/patients"}),r.a.createElement(Gt.a,{icon:r.a.createElement($t.a,null),label:"DIETY",component:c.b,to:"/dietetic/diet"}),r.a.createElement(Gt.a,{icon:r.a.createElement(Xt.a,null),label:"PLACEHOLDER",component:c.b,to:"/dietetic/diet"}),r.a.createElement(Gt.a,{icon:r.a.createElement(Xt.a,null),label:"PLACEHOLDER",component:c.b,to:"/dietetic/diet"}),r.a.createElement(Gt.a,{icon:r.a.createElement(Xt.a,null),label:"PLACEHOLDER",component:c.b,to:"/dietetic/diet"}),r.a.createElement(Gt.a,{icon:r.a.createElement(Xt.a,null),label:"PLACEHOLDER",component:c.b,to:"/dietetic/diet"})))}var ta=a(389),aa=a(393),na=a(392),ra=a(390),ia=a(391),oa=a(385),ca=a(109),la=a.n(ca),sa=a(178),ua=a.n(sa),ma=function(e){var t=Date.now()-new Date(e).getTime(),a=new Date(t);return Math.abs(a.getUTCFullYear()-1970)},da=Object(Pt.a)(function(e){return{root:{marginTop:e.spacing(3),marginLeft:"auto",marginRight:"auto",overflowX:"auto"},table:{minWidth:650},row:{transition:"all .5s","&:hover":{backgroundColor:"#f9f9f9"}},actionIcon:{transition:"all .5s","&:hover":{cursor:"pointer",color:"#0066cc"}},link:{color:"#000",textDecoration:"none"},warning:{color:"red",fontSize:"18px",marginLeft:".5rem"},popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)},centerRow:{display:"flex",alignItems:"center"},center:{display:"flex",alignItems:"center"},tooltipText:{fontSize:"12px",fontStyle:"italic",color:"red"},header:{background:"#0066cc"},headerCell:{color:"#fff"}}});var pa=function(e){var t=r.a.useState(null),a=Object(Ct.a)(t,2),n=a[0],i=a[1],o=Boolean(n),l=da(),s=e.patients;function u(e){i(e.currentTarget)}function m(){i(null)}return r.a.createElement(zt.a,{className:l.root},r.a.createElement(ta.a,{className:l.table},r.a.createElement(ra.a,{className:l.header},r.a.createElement(ia.a,null,r.a.createElement(na.a,{className:l.headerCell},"Pacjent"),r.a.createElement(na.a,{className:l.headerCell,align:"right"},"Wiek"),r.a.createElement(na.a,{className:l.headerCell,align:"right"},"Miasto"),r.a.createElement(na.a,{className:l.headerCell,align:"right"},"Telefon"),r.a.createElement(na.a,{className:l.headerCell,align:"right"},"P\u0142e\u0107"),r.a.createElement(na.a,{className:l.headerCell,align:"right"},"Akcje"))),r.a.createElement(aa.a,null,s.map(function(t,a){return r.a.createElement(ia.a,{className:l.row,key:t.id},r.a.createElement(na.a,{component:"th",scope:"row"},r.a.createElement("div",{className:l.center},t.data.fullName,!t.data.interview&&r.a.createElement(ua.a,{className:l.warning,onMouseEnter:u,onMouseLeave:m}))),r.a.createElement(na.a,{align:"right"},ma(t.data.date)),r.a.createElement(na.a,{align:"right"},t.data.city),r.a.createElement(na.a,{align:"right"},t.data.telephoneNumber),r.a.createElement(na.a,{align:"right"},t.data.sex),r.a.createElement(na.a,{align:"right"},r.a.createElement(c.b,{to:"/dietetic/patients/id/".concat(t.id),className:l.link,onClick:function(){return e.setActivePatient(t)}},r.a.createElement(la.a,{className:l.actionIcon,onClick:function(){return e.setActivePatient(t)}}))))}))),r.a.createElement(oa.a,{id:"mouse-over-popover",className:l.popover,classes:{paper:l.paper},open:o,anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},onClose:m,disableRestoreFocus:!0},r.a.createElement(R.a,{className:l.tooltipText},"Wywiad \u017cywieniowy nie zosta\u0142 jeszcze przeprowadzony. Przejd\u017a do szczeg\xf3\u0142\xf3w pacjenta aby wype\u0142ni\u0107 ankiet\u0119.")))},ha=a(394),fa=Object(Pt.a)({text:{margin:"0 1rem 0 0"},icon:{width:".8em",height:".8em"}}),ga=function(e){var t=fa();return r.a.createElement(ha.a,{color:"primary","aria-label":"Add",className:e.classes},r.a.createElement("p",{className:t.text},e.text)," ",r.a.createElement(G.a,{className:t.icon}))},ba=function(e){var t=Ee(e);return se.a.get(t)},va=function(e,t){var a=Ee(e);return se.a.post(a,t)},Ea=function(e,t,a){var n=function(e,t){return"".concat(he,"/").concat(e,"/").concat(t,"/interview.json")}(e,t);return se.a.put(n,a)},ya=a(395),xa=a(179),ja=a.n(xa),Oa=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).handleChange=function(t){e.setState(Object(k.a)({},t.target.id,t.target.value),function(){return e.props.setSearchQuery(e.state.searchQuery)})},e.state={searchQuery:""},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Ot.a,{id:"searchQuery",className:Object(D.a)(e.margin,e.textField),variant:"filled",label:"Wyszukaj pacjenta",value:this.state.searchquery,onChange:this.handleChange,InputProps:{startAdornment:r.a.createElement(ya.a,{position:"start"},r.a.createElement(ja.a,{className:e.icon}))}})}}]),t}(n.Component),Na=Object(l.b)(null,function(e){return{setSearchQuery:function(t){return e(oe(t))}}})(Object(I.a)({icon:{fontSize:"18px",color:"#0066cc"},"@media only screen and (max-width: 767px)":{textField:{width:"100%"}}})(Oa)),wa=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).getPatients=function(){ba(e.props.user.uid).then(function(t){e.setState({patients:t.data,loading:!1})}).catch(function(e){console.log(e)})},e.renderTable=function(){var t=e.state,a=t.patients,n=t.loading,i=e.props,o=i.searchQuery,l=i.classes,s=null;return null!==a&&(s=yt(a)),""!==o&&null!==a&&(s=s.filter(function(e){return e.data.fullName.toUpperCase().includes(o.toUpperCase())})),n?r.a.createElement(gt,null):!n&&null!==a&&s.length?r.a.createElement("div",{className:l.container},r.a.createElement("div",{className:l.top},r.a.createElement(c.b,{to:"/dietetic/patients/add"},r.a.createElement(ga,{classes:l.buttonAdd,text:"Dodaj pacjenta"})),r.a.createElement(Na,null)),r.a.createElement("div",{className:l.bottom},r.a.createElement(pa,{patients:s,setActivePatient:e.setActivePatient}))):r.a.createElement("div",{className:l.container},r.a.createElement("div",{className:l.top},r.a.createElement(c.b,{to:"/dietetic/patients/add"},r.a.createElement(ga,{classes:l.buttonAdd,text:"Dodaj pacjenta"})),r.a.createElement(Na,null)),r.a.createElement("h3",null,"No patients with this criteria"))},e.setActivePatient=function(t){e.props.setActivePatient(t)},e.state={patients:null,loading:!0},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.setActivePage("Dietetyk - Pacjenci"),this.getPatients(),localStorage.removeItem("primaryForm"),localStorage.removeItem("extendedForm")}},{key:"componentWillUnmount",value:function(){this.props.setSearchQuery("")}},{key:"render",value:function(){return this.renderTable()}}]),t}(n.Component),Ca=Object(l.b)(function(e){return{user:e.userReducer.user,searchQuery:e.userReducer.searchQuery}},function(e){return{setActivePage:function(t){return e(ie(t))},setSearchQuery:function(t){return e(oe(t))},setActivePatient:function(t){return e({type:"SET_ACTIVE_PATIENT",payload:t})}}})(Object(I.a)({container:{display:"flex",flexDirection:"column"},top:{marginBottom:"1rem"},buttonAdd:{float:"right",width:"auto",height:"auto",borderRadius:0,padding:"5px 15px",fontSize:"10px"},"@media only screen and (max-width: 767px)":{buttonAdd:{float:"none",width:"100%",height:"auto",borderRadius:0,padding:"5px 15px",fontSize:"10px",marginBottom:"1rem"}}})(wa)),Sa=function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.setActivePage("Dietetyk - Diety")}},{key:"render",value:function(){return r.a.createElement("h2",null,"Diet")}}]),t}(n.Component),ka=Object(l.b)(null,function(e){return{setActivePage:function(t){return e(ie(t))}}})(Sa),Da=a(202),Ia=a(384),Pa=a(410),za=a(416),Aa=a(383),La=a(132),Fa=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).handleDateChange=function(t){e.setState({date:t,dateTouched:!0},function(){return e.validateForm()})},e.handleChange=function(t){e.setState(Object(k.a)({},t.target.id,t.target.value),function(){return e.validateForm()})},e.handleChangeSex=function(t){e.setState(Object(k.a)({},t.target.name,t.target.value),function(){return e.validateForm()})},e.validateForm=function(){var t=e.state,a=t.fullName,n=t.city,r=t.telephoneNumber,i=t.sex,o=t.dateTouched;""!==a&&""!==n&&""!==r&&""!==i&&!1!==o&&e.setState({isValid:!0})},e.handleSubmit=function(t){var a=e.state,n=a.fullName,r=a.city,i=a.telephoneNumber,o=a.sex,c=a.date;t.preventDefault(),e.props.handleAddPatient({fullName:n,city:r,telephoneNumber:i,sex:o,date:c}),e.clearFields()},e.clearFields=function(){e.setState({fullName:"",city:"",telephoneNumber:"",sex:"",date:new Date,dateTouched:!1,isValid:!1})},e.state={fullName:"",city:"",telephoneNumber:"",sex:"",date:new Date,dateTouched:!1,isValid:!1},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.container},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.handleSubmit,className:e.form},r.a.createElement(Ot.a,{id:"fullName",label:"Imi\u0119 i nazwisko",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.fullName}),r.a.createElement(Ot.a,{id:"city",label:"Miasto",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.city}),r.a.createElement(Ot.a,{id:"telephoneNumber",label:"Numer telefonu",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.telephoneNumber}),r.a.createElement(Ia.a,{variant:"filled",className:e.formControl,fullWidth:!0},r.a.createElement(za.a,{htmlFor:"filled-age-simple"},"P\u0142e\u0107"),r.a.createElement(Pa.a,{value:this.state.sex,onChange:this.handleChangeSex,input:r.a.createElement(Aa.a,{name:"sex",id:"filled-age-simple"})},r.a.createElement(At.a,{value:"Male"},"M\u0119\u017cczyzna"),r.a.createElement(At.a,{value:"Female"},"Kobieta"))),r.a.createElement(La.b,{utils:Da.a},r.a.createElement(La.a,{margin:"normal",id:"mui-pickers-date",label:"Data urodzenia",onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"change date"},value:this.state.date,className:e.date})),r.a.createElement(Qe.a,{type:"submit",variant:"contained",color:"primary",className:e.button,disabled:!this.state.isValid},"Dodaj pacjenta",r.a.createElement(wt.a,{className:e.rightIcon},"send"))))}}]),t}(n.Component),Ra=Object(I.a)(function(e){return{container:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},form:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},textField:{marginBottom:"1rem",width:"100%"},button:{width:"12rem",marginTop:"2rem"},rightIcon:{marginLeft:"auto",height:".8em"},date:{display:"flex",alignSelf:"flex-start"}}})(Fa),Ta=a(182),Ua=a.n(Ta),Wa=Object(Pt.a)({button:{marginBottom:"2rem",width:"9rem",textDecoration:"none"},btn:{fontSize:"10px",padding:"8px 20px"},leftIcon:{marginRight:"1rem",fontSize:18}}),Ba=function(e){var t=Wa();return r.a.createElement(c.b,{to:e.href,className:t.button},r.a.createElement(Qe.a,{variant:"contained",color:"primary",className:t.btn},r.a.createElement(Ua.a,{className:t.leftIcon}),"Powr\xf3t"))},Ma=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).handleAddPatient=function(t){va(e.props.user.uid,Object(u.a)({},t,{interview:!1})).then(function(){e.props.enqueueSnackbar({type:"addedNewPatient"}),e.setState({addedNewPatient:!0})}).catch(function(e){console.log(e)})},e.redirectToMain=function(){return r.a.createElement(ne.a,{to:"/dietetic/patients"})},e.state={addedNewPatient:!1},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.setActivePage("Dietetyk - Pacjenci - Dodaj nowego pacjenta")}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.container},this.state.addedNewPatient&&this.redirectToMain(),r.a.createElement(Ba,{href:"/dietetic/patients"}),r.a.createElement(Ra,{handleAddPatient:this.handleAddPatient}))}}]),t}(n.Component),_a=Object(l.b)(function(e){return{user:e.userReducer.user}},function(e){return{setActivePage:function(t){return e(ie(t))},enqueueSnackbar:function(t){return e(ce(t))}}})(Object(I.a)({container:{display:"flex",flexDirection:"column"}})(Ma)),Ha=a(121),Va=r.a.forwardRef(function(e,t){return r.a.createElement(Ha.a,Object.assign({direction:"up",ref:t},e))});function qa(e){var t=r.a.useState(!0),a=Object(Ct.a)(t,2),n=a[0],i=a[1],o=e.activePatient;function l(){i(!1)}return r.a.createElement("div",null,r.a.createElement(Ge.a,{open:n,TransitionComponent:Va,keepMounted:!0,onClose:l,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement($e.a,{id:"alert-dialog-slide-title"},"Wywiad \u017cywieniowy nie zosta\u0142 jeszcze przeprowadzony"),r.a.createElement(Xe.a,null,r.a.createElement(Ye.a,{id:"alert-dialog-slide-description"},"Czy chcesz wype\u0142ni\u0107 ankiet\u0119 \u017cywieniow\u0105 dla"," ",r.a.createElement("span",{style:{color:"#0066cc"}},o.data.fullName),"?",r.a.createElement("span",{style:{fontSize:"10px",marginTop:"2rem",fontStyle:"italic",display:"block"}},"Uwaga: Ankiet\u0119 mo\u017cna wype\u0142ni\u0107 p\xf3\u017aniej klikaj\u0105c przycisk w szczego\u0142ach pacjenta."))),r.a.createElement(Ke.a,null,r.a.createElement(Qe.a,{onClick:l,style:{color:"red"}},"Anuluj"),r.a.createElement(c.b,{to:"/dietetic/patients/id/".concat(o.id,"/interview"),style:{textDecoration:"none"}},r.a.createElement(Qe.a,{onClick:l,style:{color:"#0066cc",fontWeight:"bold"}},"Tak")))))}var Ja=a(122),Qa=a.n(Ja),Ga=a(183),Ka=a.n(Ga),Xa=Object(Pt.a)(function(e){return{root:{padding:e.spacing(3,2),display:"flex",alignItems:"center",boxShadow:"0 0 5px #000","&:hover":{cursor:"pointer"}},warning:{background:"#FF7F7F",color:"#fff"},normal:{background:"#fff",color:"#000"},icon:{fontSize:"60px"},iconEdit:{fontSize:"35px",color:"#fff",transition:"all .5s",boxShadow:"-3px 0 0 transparent",padding:"5px",borderRadius:"50%","&:hover":{cursor:"pointer",transform:"rotate(360deg)",boxShadow:"-3px 0 0 #fff"}},info:{marginLeft:"3rem"},paragraph:{marginTop:".5rem"},edit:{marginLeft:"auto"},"@media only screen and (max-width: 600px)":{title:{fontSize:"14px"},paragraph:{fontSize:"10px"},icon:{fontSize:"40px"},info:{marginLeft:"2rem",marginRight:"2rem"}}}});function Ya(e){var t=Xa(),a=e.activePatient;return r.a.createElement("div",null,r.a.createElement(zt.a,{className:Qa()(t.root,[e.warning?t.warning:t.normal])},e.warning&&r.a.createElement("div",null,r.a.createElement(Ka.a,{className:t.icon})),r.a.createElement("div",{className:t.info},r.a.createElement(R.a,{variant:"h5",component:"h3",className:t.title},e.title),r.a.createElement(R.a,{component:"p",className:t.paragraph},e.message)," "),e.warning&&r.a.createElement("div",{className:t.edit},r.a.createElement(c.b,{to:"/dietetic/patients/id/".concat(a.id,"/interview")},r.a.createElement(la.a,{className:t.iconEdit})))))}var $a=Object(Pt.a)(function(e){return{root:{padding:e.spacing(3,2),margin:"0 0 2rem 0"},header:{marginBottom:"1rem",fontSize:"18px"},paragraph:{fontStyle:"italic",fontSize:"14px",marginBottom:".2rem"},bold:{fontWeight:"bold"}}});function Za(e){var t=$a(),a=e.activePatient;return r.a.createElement("div",null,r.a.createElement(zt.a,{className:t.root},r.a.createElement(R.a,{className:t.header},"Dane pacjenta"),r.a.createElement(R.a,{className:t.paragraph},"Imi\u0119 i nazwisko:"," ",r.a.createElement("span",{className:t.bold}," ",a.data.fullName)),r.a.createElement(R.a,{className:t.paragraph},"Wiek:"," ",r.a.createElement("span",{className:t.bold},ma(a.data.date))),r.a.createElement(R.a,{className:t.paragraph},"P\u0142e\u0107: ",r.a.createElement("span",{className:t.bold},a.data.sex)),r.a.createElement(R.a,{className:t.paragraph},"Miasto:"," ",r.a.createElement("span",{className:t.bold},a.data.city)),r.a.createElement(R.a,{className:t.paragraph},"Numer kontaktowy:"," ",r.a.createElement("span",{className:t.bold},a.data.telephoneNumber))),r.a.createElement(zt.a,{className:t.root},r.a.createElement(R.a,{className:t.header},"Szczeg\xf3\u0142y wywiadu \u017cywieniowego"),a.data.interview?r.a.createElement(R.a,{className:t.paragraph},"Szczeg\xf3\u0142y"):r.a.createElement(R.a,{className:t.paragraph},"Wywiad \u017cywieniowy nie zosta\u0142 jeszcze przeprowadzony")))}var en=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(i)))).render=function(){var e=a.props,t=e.activePatient,n=e.classes;return t?r.a.createElement("div",{className:n.container},r.a.createElement("div",{className:n.top},r.a.createElement(Ba,{href:"/dietetic/patients"})),r.a.createElement("div",{className:n.bottom},r.a.createElement(r.a.Fragment,null,!t.data.interview&&r.a.createElement(r.a.Fragment,null,r.a.createElement(qa,{activePatient:t}),r.a.createElement(Ya,{title:"Ostrze\u017cenie !",message:"Wywiad \u017cywieniowy nie zosta\u0142 przeprowadzony ! Aby m\xf3c u\u0142o\u017cy\u0107 jad\u0142ospis dla tego pacjenta nale\u017cy najpierw wype\u0142ni\u0107 ankiet\u0119 zdrowotn\u0105 !",warning:!0,activePatient:a.props.activePatient})),r.a.createElement("div",{className:n.inner},r.a.createElement(Za,{activePatient:t}))))):r.a.createElement(ne.a,{to:"/dietetic/patients"})},a}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.activePatient&&this.props.setActivePage("Dietetyk - Pacjenci - ".concat(this.props.activePatient.data.fullName))}},{key:"render",value:function(){return this.render()}}]),t}(n.Component),tn=Object(l.b)(function(e){return{activePatient:e.userReducer.activePatient}},function(e){return{setActivePage:function(t){return e(ie(t))}}})(Object(I.a)(function(){return{top:{marginBottom:"2rem"},inner:{marginTop:"2rem"}}})(en)),an=a(397),nn=a(398),rn=a(412),on=a(111),cn=a.n(on),ln=a(184),sn=a.n(ln),un=a(185),mn=a.n(un),dn=a(318),pn=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).componentDidMount=function(){var t=JSON.parse(localStorage.getItem("primaryForm"));e.setState(Object(u.a)({},t))},e.componentWillUnmount=function(){localStorage.setItem("primaryForm",JSON.stringify(Object(u.a)({},e.state)))},e.handleChange=function(t){e.setState(Object(k.a)({},t.target.id,t.target.value))},e.state={height:"",bodyWeight:"",bellyCircumference:"",hipCircumference:"",howManyDishes:"",job:"",ifSport:"",drugs:""},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{className:e.form},r.a.createElement(Ot.a,{id:"height",label:"Wzrost",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.height}),r.a.createElement(Ot.a,{id:"bodyWeight",label:"Masa cia\u0142a",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.bodyWeight}),r.a.createElement(Ot.a,{id:"bellyCircumference",label:"Obw\xf3d brzucha",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.bellyCircumference}),r.a.createElement(Ot.a,{id:"hipCircumference",label:"Obw\xf3d bioder",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.hipCircumference}),r.a.createElement(Ot.a,{id:"howManyDishes",label:"Ilo\u015b\u0107 posi\u0142k\xf3w spo\u017cywanych dziennie",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.howManyDishes}),r.a.createElement(Ot.a,{id:"job",label:"Wykonywany zaw\xf3d",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.job}),r.a.createElement(Ot.a,{id:"ifSport",label:"Czy uprawia pan/i sport ? Jak cz\u0119sto ?",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.ifSport}),r.a.createElement(Ot.a,{id:"drugs",label:"Stosowane u\u017cywki: papierosy, alkohol, kawa, mocna herbata ?",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.drugs}))}}]),t}(n.Component),hn=Object(I.a)({form:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},textField:{marginBottom:"1rem",width:"100%"}})(pn),fn=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).componentDidMount=function(){var t=JSON.parse(localStorage.getItem("extendedForm"));e.setState(Object(u.a)({},t))},e.componentWillUnmount=function(){localStorage.setItem("extendedForm",JSON.stringify(Object(u.a)({},e.state)))},e.handleChange=function(t){e.setState(Object(k.a)({},t.target.id,t.target.value))},e.state={diseasesOld:"",diseasesActual:""},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{className:e.form},r.a.createElement(Ot.a,{id:"diseasesOld",label:"Przebyte choroby",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.diseasesOld}),r.a.createElement(Ot.a,{id:"diseasesActual",label:"Aktualne choroby",className:e.textField,variant:"filled",fullWidth:!0,onChange:this.handleChange,value:this.state.diseasesActual}))}}]),t}(n.Component),gn=Object(I.a)({form:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},textField:{marginBottom:"1rem",width:"100%"}})(fn);Object(Pt.a)({root:{color:"#eaeaf0",display:"flex",height:22,alignItems:"center"},active:{color:"#784af4"},circle:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"},completed:{color:"#784af4",zIndex:1,fontSize:18}});var bn=Object(I.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(dn.a),vn=Object(Pt.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"}});function En(e){var t,a=vn(),n=e.active,i=e.completed,o={1:r.a.createElement(cn.a,null),2:r.a.createElement(sn.a,null),3:r.a.createElement(mn.a,null)};return r.a.createElement("div",{className:Object(D.a)(a.root,(t={},Object(k.a)(t,a.active,n),Object(k.a)(t,a.completed,i),t))},o[String(e.icon)])}var yn=Object(Pt.a)(function(e){return{root:{width:"100%"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:"3rem",width:"100%"},stepButtons:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",marginTop:"2rem"},center:{alignItems:"center",justifyContent:"center",display:"flex"}}});function xn(e){var t=yn(),a=r.a.useState(0),n=Object(Ct.a)(a,2),i=n[0],o=n[1],c=["Informacje podstawowe","Informacje dodatkowe","Zaakceptuj i zapisz"],l=r.a.useState(!1),s=Object(Ct.a)(l,1)[0];return r.a.createElement(Ha.a,{direction:"up",in:!s,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:t.root},r.a.createElement(an.a,{alternativeLabel:!0,activeStep:i,connector:r.a.createElement(bn,null),style:{backgroundColor:"#fafafa"}},c.map(function(e){return r.a.createElement(nn.a,{key:e},r.a.createElement(rn.a,{StepIconComponent:En},e))})),r.a.createElement("div",null,r.a.createElement("div",{className:t.stepButtons},r.a.createElement("div",{className:t.instructions},function(e,t){switch(e){case 0:return r.a.createElement(hn,null);case 1:return r.a.createElement(gn,null);case 2:return r.a.createElement("p",{className:t.center},"Aby zapisa\u0107 wywiad kliknij przycisk"," ",r.a.createElement("span",{style:{color:"#0066cc",marginLeft:".2rem"}},"Zapisz wywiad"));default:return"Unknown step"}}(i,t)),r.a.createElement("div",null,r.a.createElement(Qe.a,{disabled:0===i,onClick:function(){o(function(e){return e-1})},className:t.button},"Cofnij"),r.a.createElement(Qe.a,{variant:"contained",color:"primary",onClick:i!==c.length-1?function(){o(function(e){return e+1})}:function(){e.handleAddInterview()},className:t.button},i===c.length-1?"Zapisz wywiad":"Dalej"))))))}var jn=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).saveInterview=function(){var t=e.props,a=t.activePatient,n=t.user,r=JSON.parse(localStorage.getItem("primaryForm")),i=JSON.parse(localStorage.getItem("extendedForm")),o=Object(u.a)({},r,i);Ea(n.uid,a.id,o).then(function(){e.setState({submittedInterview:!0})}).catch(function(e){console.log(e)})},e.state={submittedInterview:!1},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.activePatient&&this.props.setActivePage("Dietetyk - Pacjenci - ".concat(this.props.activePatient.data.fullName," - Wywiad \u017cywieniowy"))}},{key:"render",value:function(){var e=this.props.classes;return this.props.activePatient&&!this.state.submittedInterview?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.top},r.a.createElement(Ba,{href:"/dietetic/patients/id/".concat(this.props.activePatient.id)})),r.a.createElement(xn,{handleAddInterview:this.saveInterview})):r.a.createElement(ne.a,{to:"/dietetic/patients"})}}]),t}(n.Component),On=Object(l.b)(function(e){return{activePatient:e.userReducer.activePatient,user:e.userReducer.user}},function(e){return{setActivePage:function(t){return e(ie(t))}}})(Object(I.a)(function(){return{top:{marginBottom:"2rem"}}})(jn)),Nn=function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.submenu},r.a.createElement(ea,null)),r.a.createElement("div",{className:e.main},r.a.createElement(ne.b,{path:"/dietetic/patients",exact:!0,component:Ca}),r.a.createElement(ne.b,{path:"/dietetic/patients/id/:id",exact:!0,component:tn}),r.a.createElement(ne.b,{path:"/dietetic/patients/id/:id/interview",exact:!0,component:On}),r.a.createElement(ne.b,{path:"/dietetic/patients/add",component:_a}),r.a.createElement(ne.b,{path:"/dietetic/diet",component:ka})))}}]),t}(n.Component),wn=Object(I.a)({submenu:{marginTop:".8rem"},main:{width:"80%",margin:"3rem auto"}})(Nn),Cn=a(204),Sn=a(186),kn=a.n(Sn),Dn=function(e){var t=e.userPhoto,a=e.scale;return r.a.createElement("img",{src:t,alt:"photoURL",className:a})},In=Object(Pt.a)({icon:{fontSize:"30px",transition:"all .5s","&:hover":{cursor:"pointer",transform:"scale(0.95)",color:"#a9a9a9"}},iconMenu:{marginRight:"2rem",fontSize:"18px"},menuLabel:{fontSize:"16px",fontStyle:"italic"},link:{textDecoration:"none",color:"#000"},imageContainer:{backgroundColor:"#fff",borderRadius:"50%",width:"40px",height:"40px",position:"relative"},photo:{width:"30px",height:"30px",borderRadius:"50%",marginRight:"10px","&:hover":{cursor:"pointer"},position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}});function Pn(e){var t=In(),a=e.logout,n=e.user,i=r.a.useState(null),o=Object(Ct.a)(i,2),l=o[0],s=o[1];function u(){s(null)}return r.a.createElement("div",null,r.a.createElement("div",{className:t.imageContainer,onClick:function(e){s(e.currentTarget)}},r.a.createElement(Dn,{userPhoto:n.photoURL,scale:t.photo,alt:"miniature"})),r.a.createElement(Cn.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:u},r.a.createElement(c.b,{to:"/profile/",className:t.link},r.a.createElement(At.a,{onClick:u,className:t.menuLabel},r.a.createElement(cn.a,{className:t.iconMenu}),"Profil")),r.a.createElement(At.a,{onClick:a,className:t.menuLabel},r.a.createElement(kn.a,{className:t.iconMenu}),"Wyloguj")))}var zn=a(399),An=function(e){var t=e.classes,a=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(zn.a,null),r.a.createElement("div",{className:t.userLeft},r.a.createElement(c.b,{to:"/profile",onClick:e.handleChange},r.a.createElement(Dn,{userPhoto:a.photoURL,scale:t.userLeftPhoto})),r.a.createElement("p",null,a.displayName)),r.a.createElement(zn.a,null))},Ln=[{label:"Lista da\u0144",path:"/list",icon:r.a.createElement($.a,null),component:r.a.createElement(jt,null)},{label:"Ulubione",path:"/favourites",icon:r.a.createElement(ee.a,null),component:r.a.createElement(Vt,null)},{label:"Moje dania",path:"/mydishes",icon:r.a.createElement(ae.a,null),component:r.a.createElement(Jt,null)},{label:"Dietetyk",path:"/dietetic/patients",icon:r.a.createElement(X.a,null),component:r.a.createElement(wn,null)},{label:"Dodaj nowe danie",path:"/add",icon:r.a.createElement(G.a,null),component:r.a.createElement(_t,null)}],Fn=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).handleChange=function(){e.setState(function(e){return{open:!e.open}})},e.handleChangePartial=function(t){e.setState({render:t}),e.handleChange()},e.renderHot=function(t){var a=e.props.classes;if("Dietetyk"===t)return r.a.createElement("div",{className:a.hot},"NOWO\u015a\u0106")},e.renderPartials=function(){var t=e.props.classes;return Ln.map(function(a){return r.a.createElement(c.b,{to:a.path,className:t.link,key:a.label},r.a.createElement(V.a,{button:!0,onClick:function(){return e.handleChangePartial(a)},className:"Dietetyk"===a.label?t.dietetic:""},r.a.createElement(q.a,{className:"Dietetyk"===a.label?t.dieteticIcon:""},a.icon),r.a.createElement(J.a,{primary:a.label}),e.renderHot(a.label)))})},e.state={open:!1,render:Ln[0]},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.logout,n=e.user,i=this.state.open;return r.a.createElement("div",{className:t.root},r.a.createElement(z.a,null),r.a.createElement(A.a,{position:"fixed",className:Object(D.a)(t.appBar,Object(k.a)({},t.appBarShift,i))},r.a.createElement(L.a,null,r.a.createElement(T.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleChange,edge:"start",className:Object(D.a)(t.menuButton,this.state.open&&t.hide)},r.a.createElement(W.a,null)),this.props.activePage,r.a.createElement(R.a,{variant:"h6",noWrap:!0}),r.a.createElement("div",{className:t.userPanel},r.a.createElement(Pn,{logout:a,user:this.props.user})))),r.a.createElement(P.a,{className:t.drawer,variant:"persistent",anchor:"left",open:this.state.open,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement("img",{src:"https://telemedi.co/build/media/disease-icons/sore_throat.png",alt:"logo",className:t.logo}),r.a.createElement("p",{className:t.companyName},r.a.createElement("span",{className:t.companyNameBigLetter},"D"),"iet",r.a.createElement("span",{className:t.companyNameBigLetter},"P"),"ro"),r.a.createElement(T.a,{onClick:this.handleChange},this.state.open?r.a.createElement(M.a,null):r.a.createElement(H.a,null))),r.a.createElement(An,{user:n,classes:t,handleChange:this.handleChange}),r.a.createElement(F.a,null,this.renderPartials())),r.a.createElement("main",{className:Object(D.a)(t.content,Object(k.a)({},t.contentShift,this.state.open))}))}}]),t}(n.Component),Rn=Object(ne.g)(Object(I.a)(function(e){return{root:{display:"flex"},appBar:{backgroundColor:"#0066cc"},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(u.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end",background:"#f9f9f9"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},drawerHeaderHeading:{marginRight:"auto",marginLeft:".7rem"},userPanel:{marginLeft:"auto",display:"flex",justifyContent:"center",alignItems:"center"},userPanelParagraph:{fontSize:"12px",marginRight:"3rem"},link:{textDecoration:"none",color:"#000"},userLeft:{display:"flex",alignItems:"center",flexDirection:"column",padding:"1rem 0"},userLeftPhoto:{width:"75px",height:"75px",borderRadius:"50%",marginTop:"14px"},logo:{width:50,marginLeft:"auto"},companyName:{marginRight:"auto",marginLeft:".8rem",fontStyle:"italic",letterSpacing:".5px",fontSize:"14px"},companyNameBigLetter:{color:"#5EDFAC",fontSize:"20px"},dietetic:{color:"#fff",background:"#0066cc",overflow:"hidden",boxShadow:"inset 0 0 70px #000000",transition:"all .5s","&:hover":{boxShadow:"0px 0px 4px #000",background:"#0066cc"}},dieteticIcon:{color:"#fff"},"@keyframes hotAnimation":{"0%":{boxShadow:"0px 0px 0px #fff"},"50%":{boxShadow:"0px 0px 30px #fff"},"100%":{boxShadow:"0px 0px 0px #fff"}},hot:{color:"#fff",background:"red",position:"absolute",right:"-20px",top:"15px",transform:"rotate(45deg)",padding:"2px 30px",fontSize:"10px",animation:"$hotAnimation 2s infinite",textShadow:"1px 2px 3px #fff"}}})(Fn)),Tn=a(192),Un=a.n(Tn),Wn=a(193),Bn=a.n(Wn),Mn=a(194),_n=a.n(Mn),Hn=Object(Pt.a)({container:{width:"100%",fontFamily:"Encode Sans Condensed",position:"relative",top:"8rem",zIndex:"50"},header:{height:"300px",position:"relative",backgroundColor:"#f1f1f1"},image:{position:"absolute",bottom:"-65%",width:"200px",height:"200px",left:"50%",transform:"translate(-50%,-50%)",borderRadius:"50%"},content:{marginTop:"7rem",display:"flex",flexDirection:"column",textAlign:"center"},username:{textAlign:"center",letterSpacing:"1px",fontSize:"28px"},paragraph:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",margin:"1rem auto",padding:"5px",width:"15%",transition:"all .5s","&:hover":{cursor:"pointer",color:"#0066CC"}},icon:{fontSize:"20px",marginBottom:"1rem"},headerJoined:{position:"absolute",bottom:"1rem",right:"1rem",margin:0,fontStyle:"italic",fontSize:"12px"},fab:{position:"fixed",bottom:"1rem",left:"1rem"},"@media only screen and (max-width: 767px)":{headerJoined:{display:"none"}}}),Vn=function(e){var t=e.user,a=Hn();return r.a.createElement("div",{className:a.container},r.a.createElement("div",{className:a.header},r.a.createElement(Dn,{userPhoto:t.photoURL,scale:a.image}),r.a.createElement("p",{className:a.headerJoined},"Do\u0142\u0105czono: ",t.metadata.creationTime.slice(0,16))),r.a.createElement("div",{className:a.content},r.a.createElement("h2",{className:a.username},t.displayName),r.a.createElement("p",{className:a.paragraph},r.a.createElement(Un.a,{className:a.icon}),t.email),r.a.createElement("p",{className:a.paragraph},r.a.createElement(Bn.a,{className:a.icon}),t.uid),r.a.createElement("p",{className:a.paragraph},r.a.createElement(_n.a,{className:a.icon}),t.phoneNumer?t.phoneNumer:"xxx-xxx-xxx")))},qn=a(405),Jn=a(407),Qn=a(406),Gn=Object(Pt.a)(function(e){return{root:{width:"100%",marginTop:"1rem",boxShadow:"0 2px 5px #a9a9a9",position:"fixed",zIndex:"999"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},"@media only screen and (max-width: 600px)":{root:{marginTop:".5rem"}}}});function Kn(){var e=Gn(),t=r.a.useState(!1),a=Object(Ct.a)(t,2),n=a[0],i=a[1],o=function(e){return function(t,a){i(!!a&&e)}};return r.a.createElement("div",{className:e.root},r.a.createElement(qn.a,{expanded:"panel1"===n,onChange:o("panel1")},r.a.createElement(Qn.a,{expandIcon:r.a.createElement(Me.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(R.a,{className:e.heading},"Personal data"),r.a.createElement(R.a,{className:e.secondaryHeading},"Change all your personal informations")),r.a.createElement(Jn.a,null,r.a.createElement(R.a,null,"Nunc vitae orci ultricies, auctor nunc in, volutpat nisl. Integer sit amet egestas eros, vitae egestas augue. Duis vel est augue."))),r.a.createElement(qn.a,{expanded:"panel2"===n,onChange:o("panel2")},r.a.createElement(Qn.a,{expandIcon:r.a.createElement(Me.a,null),"aria-controls":"panel2bh-content",id:"panel2bh-header"},r.a.createElement(R.a,{className:e.heading},"General settings"),r.a.createElement(R.a,{className:e.secondaryHeading},"General settings for your account")),r.a.createElement(Jn.a,null,r.a.createElement(R.a,null,"Nulla facilisi. Phasellus sollicitudin nulla et quam mattis feugiat. Aliquam eget maximus est, id dignissim quam."))),r.a.createElement(qn.a,{expanded:"panel3"===n,onChange:o("panel3")},r.a.createElement(Qn.a,{expandIcon:r.a.createElement(Me.a,null),"aria-controls":"panel3bh-content",id:"panel3bh-header"},r.a.createElement(R.a,{className:e.heading},"Advanced settings"),r.a.createElement(R.a,{className:e.secondaryHeading},"Advenced settings for your account")),r.a.createElement(Jn.a,null,r.a.createElement(R.a,null,"Nunc vitae orci ultricies, auctor nunc in, volutpat nisl. Integer sit amet egestas eros, vitae egestas augue. Duis vel est augue."))),r.a.createElement(qn.a,{expanded:"panel4"===n,onChange:o("panel4")},r.a.createElement(Qn.a,{expandIcon:r.a.createElement(Me.a,null),"aria-controls":"panel4bh-content",id:"panel4bh-header"},r.a.createElement(R.a,{className:e.heading},"Subscription"),r.a.createElement(R.a,{className:e.secondaryHeading},"Your subscription type")),r.a.createElement(Jn.a,null,r.a.createElement(R.a,null,"Donec placerat, lectus sed mattis semper, neque lectus feugiat lectus, varius pulvinar diam eros in elit. Pellentesque convallis laoreet laoreet."))))}var Xn=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).state={user:null},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.setState({user:this.props.user}),this.props.setActivePage("M\xf3j profil")}},{key:"render",value:function(){var e=this.state.user;return e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn,null),r.a.createElement(Vn,{user:e}))}}]),t}(n.Component),Yn=Object(l.b)(function(e){return{user:e.userReducer.user}},function(e){return{setActivePage:function(t){return e(ie(t))}}})(Xn),$n=a(413),Zn=a(418),er=a(414),tr=a(196),ar=a.n(tr),nr=a(197),rr=a.n(nr),ir=a(198),or=a.n(ir),cr=a(199),lr=a.n(cr),sr=[{icon:r.a.createElement(ar.a,null),name:"Copy"},{icon:r.a.createElement(rr.a,null),name:"Save"},{icon:r.a.createElement(or.a,null),name:"Print"},{icon:r.a.createElement(lr.a,null),name:"Share"},{icon:r.a.createElement(ut.a,null),name:"Delete"}],ur=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(j.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleClick=function(){a.setState(function(e){return{open:!e.open}})},a.handleOpen=function(){a.state.hidden||a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(N.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.hidden,i=a.open;return r.a.createElement("div",{className:t.root},r.a.createElement($n.a,{ariaLabel:"SpeedDial tooltip example",className:t.speedDial,hidden:n,icon:r.a.createElement(Zn.a,null),onBlur:this.handleClose,onClick:this.handleClick,onClose:this.handleClose,onFocus:this.handleOpen,onMouseEnter:this.handleOpen,onMouseLeave:this.handleClose,open:i},sr.map(function(t){return r.a.createElement(er.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,tooltipOpen:!0,onClick:e.handleClick})})))}}]),t}(r.a.Component),mr=Object(I.a)(function(e){return{root:{position:"fixed",bottom:"1rem",right:"1rem"},speedDial:{position:"absolute",bottom:e.spacing(2),right:e.spacing(3)}}})(ur),dr=Object(Pt.a)(function(){return{container:{background:"#fff",boxShadow:"1px 2px 5px #000",marginBottom:"2rem",display:"flex",flexDirection:"column"},userInfo:{display:"flex",alignItems:"center",background:"#0066cc",color:"#fff",padding:".5rem"},avatar:{width:"2.5rem",height:"2.5rem",borderRadius:"50%",border:"2px solid #fff"},username:{marginLeft:"1rem",fontSize:"14px"},messageBox:{marginTop:"1rem",padding:"0 1rem"},date:{marginLeft:"auto",fontSize:"10px",fontStyle:"italic"},"@media only screen and (max-width: 767px)":{avatar:{width:"2rem",height:"2rem"},username:{fontSize:"12px"},date:{fontSize:"8px"}}}}),pr=function(e){var t=dr(),a=e.comment,n=a.data.user;return r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.userInfo},r.a.createElement("img",{src:n.photoURL,alt:"avatar",className:t.avatar}),r.a.createElement("p",{className:t.username},n.displayName),r.a.createElement("p",{className:t.date},"Opublikowano: ",a.data.publishDate.slice(0,10))),r.a.createElement("div",{className:t.messageBox},r.a.createElement("p",{className:t.message},a.data.comment)))},hr=function(e){var t=e.comments;return t?t.map(function(e,t){return r.a.createElement(pr,{key:t,comment:e})}):"No comments"},fr=function(e){var t=e.dish,a=t.ingredients.map(function(e,t){return r.a.createElement("p",{key:t},e)});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,t.title),r.a.createElement("p",null,t.shortDescription),a,t.imageUrl&&r.a.createElement("img",{src:t.imageUrl,alt:"dish"}))},gr=function(e){var t=e.owner;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Opublikowano przez: "),r.a.createElement("p",null,t.displayName),r.a.createElement("p",null,t.email))},br=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).onChange=function(t){e.setState({message:t.target.value})},e.handleSubmit=function(){e.state.message.replace(/\s/g,"").length?(e.props.addComment(e.state.message),e.setState({message:"",invalid:!1})):e.setState({message:"",invalid:!0})},e.state={message:"",invalid:!1},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user,n=this.state.invalid;return r.a.createElement("div",{className:t.container},r.a.createElement(Ot.a,{id:"standard-textarea",multiline:!0,margin:"normal",className:t.name,disabled:!0,value:a.displayName}),r.a.createElement(Ot.a,{id:"standard-textarea",label:"Dodaj komentarz..",multiline:!0,className:t.form,margin:"normal",value:this.state.message,onChange:this.onChange}),n&&r.a.createElement("p",{className:t.invalid},"Komentarz nie mo\u017ce by\u0107 pusty"),r.a.createElement(Qe.a,{variant:"contained",color:"primary",className:t.button,onClick:this.handleSubmit},"Dodaj komentarz",r.a.createElement(wt.a,{className:t.rightIcon},"send")))}}]),t}(n.Component),vr=Object(mt.a)({container:{padding:"1rem",background:"#fff",boxShadow:"1px 2px 5px #000",display:"flex",alignItems:"center",flexDirection:"column",borderRadius:"5px"},form:{width:"100%"},button:{width:"14rem",marginTop:"2rem"},rightIcon:{marginLeft:"auto"},invalid:{color:"red",fontSize:"10px",fontStyle:"italic"},name:{width:"auto",alignSelf:"flex-start"}})(br),Er=function(e){function t(){var e;return Object(y.a)(this,t),(e=Object(j.a)(this,Object(O.a)(t).call(this))).getCommentsFromDB=function(){Oe(e.props.dish.id).then(function(t){e.setState({comments:t.data})}).catch(function(){e.setState({comments:null})})},e.addComment=function(t){Ne(e.props.dish.id,{user:e.props.user,comment:t,publishDate:new Date}).then(function(){e.getCommentsFromDB()}).catch(function(e){console.log(e)})},e.state={comments:null},e}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.dish&&(this.getCommentsFromDB(),this.props.setActivePage("Szczeg\xf3\u0142y: ".concat(this.props.dish.data.title)))}},{key:"componentWillUnmount",value:function(){this.props.setSelectedDish({selectedDish:null})}},{key:"render",value:function(){var e=this.props,t=e.dish,a=e.classes,n=this.state.comments,i=n?yt(n):null;return t?r.a.createElement("div",{className:a.container},r.a.createElement("div",{className:a.main},r.a.createElement("div",{className:a.data},r.a.createElement(fr,{dish:t.data})),r.a.createElement("div",{className:a.owner},r.a.createElement(gr,{owner:t.data.user}))),r.a.createElement("div",{className:a.bottom},r.a.createElement("div",{className:a.form},r.a.createElement(vr,{user:this.props.user,addComment:this.addComment})),r.a.createElement("div",{className:a.commentSection},r.a.createElement(hr,{comments:i}))),r.a.createElement(mr,null)):r.a.createElement(ne.a,{to:"/list"})}}]),t}(n.Component),yr=Object(l.b)(function(e){return{dish:e.dishesReducer.selectedDish,user:e.userReducer.user}},function(e){return{setSelectedDish:function(t){return e(re(t))},setActivePage:function(t){return e(ie(t))}}})(Object(I.a)({container:{display:"flex",flexDirection:"column",padding:"5rem"},main:{display:"flex",flexDirection:"row"},owner:{marginLeft:"auto"},data:{display:"flex",flexDirection:"column",fontSize:"12px",fontStyle:"italic"},form:{width:"100%",marginBottom:"3rem"},bottom:{display:"flex",flexDirection:"column",marginTop:"5rem",borderTop:"1px solid #000",paddingTop:"5rem",flexWrap:"wrap"},commentSection:{width:"100%",marginLeft:"auto"},"@media only screen and (max-width: 991px)":{main:{flexDirection:"column"},owner:{marginLeft:0}}})(Er)),xr=function(){return r.a.createElement(ne.d,null,r.a.createElement(ne.b,{path:"/add",component:_t}),r.a.createElement(ne.b,{path:"/list",component:jt}),r.a.createElement(ne.b,{path:"/favourites",component:Vt}),r.a.createElement(ne.b,{path:"/mydishes",component:Jt}),r.a.createElement(ne.b,{path:"/profile",component:Yn}),r.a.createElement(ne.b,{path:"/details/:id",component:yr}),r.a.createElement(ne.b,{path:"/dietetic",component:wn}),r.a.createElement(ne.a,{to:"/list"}))},jr=Object(I.a)(function(e){return{root:{padding:e.spacing(3,2),boxShadow:"0 0 100px white"},paragraph:{margin:"1rem"},title:{textAlign:"center",marginBottom:"4rem"},buttonLogin:{marginTop:"2rem",width:"100%"},loginContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",opacity:"0.9"}}})(function(e){var t=e.classes,a=e.login;return r.a.createElement("div",{className:t.loginContainer},r.a.createElement(zt.a,{className:t.root},r.a.createElement(R.a,{variant:"h4",component:"h3",className:t.title},"Login"),r.a.createElement(R.a,{component:"p",className:t.paragraph},"This application is using google authentication."),r.a.createElement(R.a,{component:"p",className:t.paragraph},"Click on the button below to login."),r.a.createElement(R.a,{component:"p"},r.a.createElement(Qe.a,{variant:"contained",color:"primary",className:t.buttonLogin,onClick:a},"Authenticate"))))}),Or=Object(I.a)({container:{position:"relative",width:"100%",height:"100vh",background:"#0066cc"}})(function(e){var t=e.classes,a=e.login;return r.a.createElement("div",{className:t.container},r.a.createElement(jr,{login:a}))}),Nr=function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentWillUpdate",value:function(e){var t,a="";switch(e.type){case"addedToFav":t="success",a="Successfully added to favourites";break;case"addedNewDish":t="success",a="Successfully added new dish";break;case"addedNewPatient":t="success",a="Successfully added new patient";break;case"removedFromFav":t="warning",a="Successfully removed from favourites";break;case"deleted":t="warning",a="Successfully deleted";break;case"error":t="warning",a="Something went wrong";break;default:return}this.props.enqueueSnackbar(a,{variant:t})}},{key:"render",value:function(){return null}}]),t}(n.Component),wr=Object(l.b)(function(e){return{type:e.notifierReducer.type}})(Object(S.withSnackbar)(Nr)),Cr=ye.auth(),Sr={googleProvider:new C.auth.GoogleAuthProvider},kr=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(i)))).renderApp=function(){var e=a.props,t=e.user,n=e.signInWithGoogle,i=e.signOut,o=e.activePage;switch(a.props.fetchCurrentUserOnStart({user:t}),t){case void 0:return r.a.createElement(gt,null);case null:return r.a.createElement(Or,{login:n});default:return r.a.createElement(r.a.Fragment,null,r.a.createElement(Rn,{logout:i,user:t,activePage:o}),r.a.createElement(xr,null),r.a.createElement(S.SnackbarProvider,null,r.a.createElement(wr,null)))}},a}return Object(N.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return this.renderApp()}}]),t}(n.Component),Dr=Object(l.b)(function(e){return{activePage:e.userReducer.activePage}},function(e){return{fetchCurrentUserOnStart:function(t){return e({type:"FETCH_CURRENT_USER",payload:t})}}})(Object(w.a)({providers:Sr,firebaseAppAuth:Cr})(kr)),Ir=r.a.createElement(l.a,{store:E},r.a.createElement(c.a,null,r.a.createElement(Dr,null)));o.a.render(Ir,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[236,1,2]]]);
//# sourceMappingURL=main.4ba2523a.chunk.js.map